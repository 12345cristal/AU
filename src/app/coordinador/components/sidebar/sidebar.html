<!-- ==============================
     TOOLBAR
============================== -->
<header class="toolbar">
  <div class="toolbar-left">
    <button class="toggle-btn-desktop" 
            (click)="toggleSidebar()" 
            [class.active]="menuVisible" 
            aria-label="Menú">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>

    <h1 (click)="openSidebar()">Autismo Mochis</h1>
  </div>

  <div class="toolbar-right">
    <button class="icon-btn notification-btn">
      Notificaciones <span class="badge">3</span>
    </button>
    <button class="icon-btn">Perfil</button>
  </div>
</header>

<!-- ==============================
     SIDEBAR
============================== -->
<nav class="sidebar" [class.open]="menuVisible">
  <div class="sidebar-content">
    <div class="sidebar-header">
      <img src="autismo_mochis.png" alt="Autismo Mochis" class="sidebar-logo" />
      <span class="sidebar-title">Coordinador</span>
      <button class="close-sidebar-btn" (click)="closeSidebar()">Cerrar</button>
    </div>

    <div class="sidebar-scroll">
      <!-- Panel principal -->
      <div class="sidebar-section" [class.open]="panelPrincipalOpen">
        <div class="section-title" (click)="panelPrincipalOpen = !panelPrincipalOpen">
          Panel principal <span>{{ panelPrincipalOpen ? '▲' : '▼' }}</span>
        </div>
        <div class="sidebar-links">
          <a routerLink="/coordinador/inicio">Inicio</a>
          <a routerLink="/coordinador/citas">Citas</a>
          <a routerLink="/coordinador/terapeutas">Terapeutas</a>
        </div>
      </div>

      <!-- Gestión clínica -->
      <div class="sidebar-section" [class.open]="gestionClinicaOpen">
        <div class="section-title" (click)="gestionClinicaOpen = !gestionClinicaOpen">
          Gestión clínica <span>{{ gestionClinicaOpen ? '▲' : '▼' }}</span>
        </div>
        <div class="sidebar-links">
          <a routerLink="/coordinador/padres">Padres</a>
          <a routerLink="/coordinador/recursos">Recursos</a>
          <a routerLink="/coordinador/mensajes">Mensajes</a>

          <!-- Parte clínica con subopciones -->
          <div class="sidebar-subsection">
            <div class="subsection-title" (click)="parteClinicaOpen = !parteClinicaOpen">
              Parte clínica <span>{{ parteClinicaOpen ? '▲' : '▼' }}</span>
            </div>
            <!-- Subenlaces solo visibles si parteClinicaOpen = true -->
            <div class="sidebar-sublinks" *ngIf="parteClinicaOpen">
              <a routerLink="/coordinador/parte-clinica/pacientes">Pacientes</a>
              <a routerLink="/coordinador/parte-clinica/planes">Planes</a>
              <a routerLink="/coordinador/parte-clinica/notas">Notas</a>
            </div>
          </div>

          <a routerLink="/coordinador/horarios">Horarios</a>
          <a routerLink="/coordinador/expedientes-clinicos">Expedientes clínicos</a>
        </div>
      </div>

      <!-- Administración -->
      <div class="sidebar-section" [class.open]="administracionOpen">
        <div class="section-title" (click)="administracionOpen = !administracionOpen">
          Administración <span>{{ administracionOpen ? '▲' : '▼' }}</span>
        </div>
        <div class="sidebar-links">
          <a routerLink="/coordinador/filtros-acceso">Filtros de acceso</a>
          <a routerLink="/coordinador/nuevo-beneficiario">Nuevo beneficiario</a>
          <a routerLink="/coordinador/usuarios">Usuarios</a>
          <a routerLink="/coordinador/reportes">Reportes</a>
        </div>
      </div>
    </div>

    <!-- Footer del sidebar -->
    <div class="sidebar-footer">
      <a href="#">Configuración</a>
      <a href="#" class="logout">Cerrar sesión</a>
    </div>
  </div>
</nav>

<!-- ==============================
     OVERLAY
============================== -->
<div class="sidebar-overlay" 
     [class.show]="menuVisible" 
     (click)="closeSidebar()"></div>
